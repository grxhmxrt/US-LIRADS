<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LI-RADS Ultrasound Report Template</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --bg-gradient-start: #eff6ff;
            --bg-gradient-end: #f8fafc;
            --card-bg: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #475569;
            --border: #e2e8f0;
            --shadow: 0 6px 24px rgba(0, 0, 0, 0.08);
            --radius: 12px;
            --transition: all 0.25s ease;
        }

        * { box-sizing: border-box; margin:0; padding:0; }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, var(--bg-gradient-start), var(--bg-gradient-end));
            min-height: 100vh; padding:24px;
            display:flex; justify-content:center; align-items:flex-start;
            color:var(--text-primary); line-height:1.6;
        }

        .container {
            background:var(--card-bg); padding:28px; border-radius:var(--radius);
            box-shadow:var(--shadow); max-width:640px; width:100%; margin-top:20px;
        }

        h1 { text-align:center; color:var(--text-primary); margin-bottom:16px;
            font-weight:700; font-size:1.75rem; letter-spacing:-.025em; }

        .lirads-reference { text-align:center; font-size:.875rem; color:var(--text-secondary);
            margin-bottom:24px; font-style:italic; }

        .button-container { display:flex; justify-content:center; gap:16px;
            margin-bottom:24px; flex-wrap:wrap; }

        button { padding:10px 20px; background:var(--primary); color:#fff;
            border:none; border-radius:50px; cursor:pointer; font-size:.9375rem;
            font-weight:600; transition:var(--transition); min-width:120px; }
        button:hover { background:var(--primary-dark);
            transform:translateY(-1px); box-shadow:0 4px 12px rgba(37,99,235,.3); }
        button:active { transform:translateY(0); }

        table { width:100%; border-collapse:separate; border-spacing:0;
            margin-bottom:20px; overflow:hidden; border-radius:var(--radius);
            box-shadow:0 1px 3px rgba(0,0,0,.1); }

        th { background:var(--primary); color:#fff; font-weight:600;
            padding:14px 16px; text-align:left; font-size:.9375rem; letter-spacing:.025em; }

        td { padding:0; border-bottom:1px solid var(--border); }
        tr:last-child td { border-bottom:none; }
        tr:nth-child(even) td { background:#f8fafc; }

        .input-cell { padding:12px 16px; }

        input, select { width:100%; padding:10px 12px; border:1.5px solid var(--border);
            border-radius:8px; font-size:.9375rem; background:#fff;
            transition:var(--transition); font-family:inherit; }
        input:focus, select:focus { outline:none; border-color:var(--primary);
            box-shadow:0 0 0 3px rgba(37,99,235,.15); }

        select { appearance:none;
            background-image:url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2212%22%20height%3D%228%22%20viewBox%3D%220%200%2012%208%22%3E%3Cpath%20fill%3D%22%236b7280%22%20d%3D%22M0%2C0l6%2C6l6-6H0z%22%2F%3E%3C%2Fsvg%3E");
            background-repeat:no-repeat; background-position:right 12px center;
            padding-right:32px; }

        .copyright { text-align:center; font-size:.75rem; color:#94a3b8;
            margin-top:28px; padding-top:16px; border-top:1px solid #e2e8f0; }

        @media (max-width:480px) {
            .container { padding:20px; }
            .button-container { flex-direction:column; }
            button { width:100%; }
            h1 { font-size:1.5rem; }
        }
    </style>
</head>
<body onload="resetForm()">
    <div class="container">
        <h1>LI-RADS Ultrasound Report Template</h1>
        <div class="lirads-reference">Based on LI-RADS® Ultrasound Surveillance v2024 Core</div>

        <div class="button-container">
            <button type="button" onclick="resetForm()">Reset Form</button>
            <button type="button" onclick="copyReport()">Copy Report</button>
        </div>

        <table>
            <tr><th>Finding</th><th>Details</th></tr>
            <tr>
                <td>Date of Previous USS</td>
                <td class="input-cell"><input type="date" id="date" aria-label="Date of Previous Ultrasound"></td>
            </tr>
            <tr>
                <td>Liver Vasculature Description</td>
                <td class="input-cell">
                    <select id="liverDesc" aria-label="Liver Vasculature Description">
                        <option value="">Select...</option>
                        <option value="Normal">Normal</option>
                        <option value="Steatosis Grade I">Steatosis Grade I</option>
                        <option value="Steatosis Grade II">Steatosis Grade II</option>
                        <option value="Steatosis Grade III">Steatosis Grade III</option>
                        <option value="Coarse">Coarse</option>
                        <option value="Lobulated Contour">Lobulated Contour</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Portal Vein Patent</td>
                <td class="input-cell">
                    <select id="portalVein" aria-label="Portal Vein Patent">
                        <option value="">Select...</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                        <option value="Unable to assess">Unable to assess</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>PV Velocity (cm/s)</td>
                <td class="input-cell"><input type="text" id="pvVelocity" placeholder="e.g., 25" aria-label="Portal Vein Velocity"></td>
            </tr>
            <tr>
                <td>Hepatic Veins Patent</td>
                <td class="input-cell">
                    <select id="hepaticVeins" aria-label="Hepatic Veins Patent">
                        <option value="">Select...</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                        <option value="Unable to assess">Unable to assess</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Recanalisation of Para-Umbilical Vein</td>
                <td class="input-cell">
                    <select id="paraUmbilical" aria-label="Recanalisation of Para-Umbilical Vein">
                        <option value="">Select...</option>
                        <option value="No">No</option>
                        <option value="Yes">Yes</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Spleen Size (cm)</td>
                <td class="input-cell"><input type="text" id="spleenSize" placeholder="e.g., 12.5" aria-label="Spleen Size"></td>
            </tr>
            <tr>
                <td>Liver Visualisation</td>
                <td class="input-cell">
                    <select id="liverVis" aria-label="Liver Visualisation">
                        <option value="">Select...</option>
                        <option value="VIS-A">VIS-A</option>
                        <option value="VIS-B">VIS-B</option>
                        <option value="VIS-C">VIS-C</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>Liver Lesion(s)</td>
                <td class="input-cell">
                    <select id="liverLesion" aria-label="Liver Lesions">
                        <option value="">Select...</option>
                        <option value="US-1">US-1</option>
                        <option value="US-2">US-2</option>
                        <option value="US-3">US-3</option>
                    </select>
                </td>
            </tr>
        </table>

        <div class="copyright">© 2025 Graham Martin</div>
    </div>

    <script>
        function resetForm() {
            document.querySelectorAll('input, select').forEach(el => {
                if (el.type === 'text' || el.type === 'date') el.value = '';
                else el.selectedIndex = 0;
            });
        }

        // Convert YYYY-MM-DD → "30 October 2025"
        function formatUKDateLong(iso) {
            if (!iso) return 'Not specified';
            const [y, m, d] = iso.split('-');
            const months = [
                'January','February','March','April','May','June',
                'July','August','September','October','November','December'
            ];
            return `${d} ${months[parseInt(m)-1]} ${y}`;
        }

        function copyReport() {
            const fields = [
                { id: 'date',          label: 'Date of Previous USS',          format: formatUKDateLong },
                { id: 'liverDesc',     label: 'Liver Vasculature Description' },
                { id: 'portalVein',    label: 'Portal Vein Patent' },
                { id: 'pvVelocity',    label: 'PV Velocity (cm/s)' },
                { id: 'hepaticVeins',  label: 'Hepatic Veins Patent' },
                { id: 'paraUmbilical', label: 'Recanalisation of Para-Umbilical Vein' },
                { id: 'spleenSize',    label: 'Spleen Size (cm)' },
                { id: 'liverVis',      label: 'Liver Visualisation' },
                { id: 'liverLesion',   label: 'Liver Lesion(s)' }
            ];

            let report = 'LI-RADS Ultrasound Report\n';
            report += '='.repeat(32) + '\n\n';

            fields.forEach(({ id, label, format }) => {
                const el = document.getElementById(id);
                let value = el.value.trim();

                if (format) {
                    value = format(value);
                } else if (!value) {
                    value = 'Not specified';
                }

                report += `${label}: ${value}\n`;
            });

            navigator.clipboard.writeText(report).then(
                () => alert('Report copied to clipboard!'),
                () => alert('Copy failed. Try again.')
            );
        }
    </script>
</body>
</html>
